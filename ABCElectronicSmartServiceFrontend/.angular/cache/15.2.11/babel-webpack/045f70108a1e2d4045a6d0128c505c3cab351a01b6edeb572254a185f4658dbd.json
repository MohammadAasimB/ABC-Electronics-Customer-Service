{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/service/Api.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction BookComplaintComponent_div_8_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Complaint Name is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BookComplaintComponent_div_8_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Minimum 3 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BookComplaintComponent_div_8_small_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Maximum 50 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BookComplaintComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, BookComplaintComponent_div_8_small_1_Template, 2, 0, \"small\", 18);\n    i0.ɵɵtemplate(2, BookComplaintComponent_div_8_small_2_Template, 2, 0, \"small\", 18);\n    i0.ɵɵtemplate(3, BookComplaintComponent_div_8_small_3_Template, 2, 0, \"small\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r0.complaintForm.get(\"complaintName\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.complaintForm.get(\"complaintName\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.complaintForm.get(\"complaintName\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"maxlength\"]);\n  }\n}\nfunction BookComplaintComponent_div_13_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Product Model Number is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BookComplaintComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, BookComplaintComponent_div_13_small_1_Template, 2, 0, \"small\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r1.complaintForm.get(\"productModelNumber\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nfunction BookComplaintComponent_div_18_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Client ID is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BookComplaintComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, BookComplaintComponent_div_18_small_1_Template, 2, 0, \"small\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r2.complaintForm.get(\"clientId\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nfunction BookComplaintComponent_div_23_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Resolved Date is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BookComplaintComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, BookComplaintComponent_div_23_small_1_Template, 2, 0, \"small\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r3.complaintForm.get(\"resolvedDate\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nexport class BookComplaintComponent {\n  constructor(fb, apiService, route, router) {\n    this.fb = fb;\n    this.apiService = apiService;\n    this.route = route;\n    this.router = router;\n    this.message = '';\n    this.clientId = 'client001';\n    this.product = '';\n    this.complaintForm = this.fb.group({\n      complaintName: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n      productModelNumber: [{\n        value: '',\n        disabled: true\n      }, [Validators.required]],\n      clientId: [{\n        value: '',\n        disabled: true\n      }, [Validators.required]],\n      resolvedDate: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.product = params.get('modelNumber');\n      this.complaintForm.get('productModelNumber')?.setValue(this.product);\n      this.complaintForm.get('clientId')?.setValue(this.clientId);\n    });\n  }\n  onSubmit() {\n    if (this.complaintForm.valid) {\n      const formValues = this.complaintForm.getRawValue(); // Use getRawValue to get all values including disabled ones\n      const clientId = formValues.clientId;\n      const productModelNumber = formValues.productModelNumber;\n      const complaint = {\n        complaintName: formValues.complaintName,\n        status: 'Open',\n        resolvedDate: formValues.resolvedDate\n      };\n      this.apiService.bookComplaint(clientId, productModelNumber, complaint).subscribe({\n        next: data => {\n          console.log('✅ Data added:', data);\n          alert('✅ Data added successfully!');\n          this.complaintForm.reset();\n        },\n        error: error => {\n          console.error('Error booking complaint', error);\n        }\n      });\n    }\n    this.router.navigate(['/getComplaintByClient']);\n  }\n  static {\n    this.ɵfac = function BookComplaintComponent_Factory(t) {\n      return new (t || BookComplaintComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BookComplaintComponent,\n      selectors: [[\"app-book-complaint\"]],\n      decls: 26,\n      vars: 18,\n      consts: [[1, \"container\"], [1, \"banner\"], [1, \"body\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"name\"], [\"for\", \"complaintName\"], [\"type\", \"text\", \"formControlName\", \"complaintName\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"form-group\", \"age\"], [\"for\", \"productModelNumber\"], [\"type\", \"text\", \"formControlName\", \"productModelNumber\", 1, \"form-control\", 3, \"ngClass\"], [1, \"form-group\", \"salary\"], [\"for\", \"clientId\"], [\"type\", \"text\", \"formControlName\", \"clientId\", 1, \"form-control\", 3, \"ngClass\"], [1, \"form-group\", \"date\"], [\"for\", \"resolvedDate\"], [\"type\", \"date\", \"formControlName\", \"resolvedDate\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"disabled\"], [1, \"text-danger\"], [4, \"ngIf\"]],\n      template: function BookComplaintComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n          i0.ɵɵtext(2, \"Book a complaint\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function BookComplaintComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n          i0.ɵɵtext(6, \"Complaint Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 5);\n          i0.ɵɵtemplate(8, BookComplaintComponent_div_8_Template, 4, 3, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 8);\n          i0.ɵɵtext(11, \"Product Model Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"input\", 9);\n          i0.ɵɵtemplate(13, BookComplaintComponent_div_13_Template, 2, 1, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 10)(15, \"label\", 11);\n          i0.ɵɵtext(16, \"Client ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(17, \"input\", 12);\n          i0.ɵɵtemplate(18, BookComplaintComponent_div_18_Template, 2, 1, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"div\", 13)(20, \"label\", 14);\n          i0.ɵɵtext(21, \"Resolved Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(22, \"input\", 15);\n          i0.ɵɵtemplate(23, BookComplaintComponent_div_23_Template, 2, 1, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"button\", 16);\n          i0.ɵɵtext(25, \" Submit \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          let tmp_2_0;\n          let tmp_3_0;\n          let tmp_4_0;\n          let tmp_5_0;\n          let tmp_6_0;\n          let tmp_7_0;\n          let tmp_8_0;\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.complaintForm);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, ((tmp_1_0 = ctx.complaintForm.get(\"complaintName\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.complaintForm.get(\"complaintName\")) == null ? null : tmp_1_0.touched)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.complaintForm.get(\"complaintName\")) == null ? null : tmp_2_0.touched) && ((tmp_2_0 = ctx.complaintForm.get(\"complaintName\")) == null ? null : tmp_2_0.invalid));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c0, ((tmp_3_0 = ctx.complaintForm.get(\"productModelNumber\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.complaintForm.get(\"productModelNumber\")) == null ? null : tmp_3_0.touched)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.complaintForm.get(\"productModelNumber\")) == null ? null : tmp_4_0.touched) && ((tmp_4_0 = ctx.complaintForm.get(\"productModelNumber\")) == null ? null : tmp_4_0.invalid));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, ((tmp_5_0 = ctx.complaintForm.get(\"clientId\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx.complaintForm.get(\"clientId\")) == null ? null : tmp_5_0.touched)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.complaintForm.get(\"clientId\")) == null ? null : tmp_6_0.touched) && ((tmp_6_0 = ctx.complaintForm.get(\"clientId\")) == null ? null : tmp_6_0.invalid));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(16, _c0, ((tmp_7_0 = ctx.complaintForm.get(\"resolvedDate\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.complaintForm.get(\"resolvedDate\")) == null ? null : tmp_7_0.touched)));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx.complaintForm.get(\"resolvedDate\")) == null ? null : tmp_8_0.touched) && ((tmp_8_0 = ctx.complaintForm.get(\"resolvedDate\")) == null ? null : tmp_8_0.invalid));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.complaintForm.invalid);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n  padding: 20px;\\r\\n  background-color: #f8f9fa;\\r\\n  border-radius: 8px;\\r\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\r\\n  max-width: 600px;\\r\\n  margin: 30px auto;\\r\\n}\\r\\n\\r\\n\\r\\n.banner[_ngcontent-%COMP%] {\\r\\n  font-size: 24px;\\r\\n  font-weight: bold;\\r\\n  margin-bottom: 20px;\\r\\n  color: #343a40;\\r\\n}\\r\\n\\r\\n\\r\\n.body[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n\\r\\n.form-group[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n\\r\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  margin-bottom: 5px;\\r\\n  font-weight: bold;\\r\\n  color: #495057;\\r\\n}\\r\\n\\r\\n\\r\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  padding: 10px;\\r\\n  font-size: 16px;\\r\\n  border: 1px solid #dee2e6;\\r\\n  border-radius: 4px;\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n\\r\\n.is-invalid[_ngcontent-%COMP%] {\\r\\n  border-color: #dc3545;\\r\\n}\\r\\n\\r\\n\\r\\n.text-danger[_ngcontent-%COMP%] {\\r\\n  color: #dc3545;\\r\\n  font-size: 14px;\\r\\n}\\r\\n\\r\\n\\r\\n.btn[_ngcontent-%COMP%] {\\r\\n  background-color: #007bff;\\r\\n  color: white;\\r\\n  padding: 10px 20px;\\r\\n  font-size: 16px;\\r\\n  border: none;\\r\\n  border-radius: 4px;\\r\\n  cursor: pointer;\\r\\n  transition: background-color 0.3s ease;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #0056b3;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]:disabled {\\r\\n  background-color: #6c757d;\\r\\n  cursor: not-allowed;\\r\\n}\\r\\n\\r\\n\\r\\n.mt-3[_ngcontent-%COMP%] {\\r\\n  margin-top: 1rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcGxhaW50L2Jvb2stY29tcGxhaW50L2Jvb2stY29tcGxhaW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0NBQW9DO0FBQ3BDO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsd0NBQXdDO0VBQ3hDLGdCQUFnQjtFQUNoQixpQkFBaUI7QUFDbkI7O0FBRUEsMkJBQTJCO0FBQzNCO0VBQ0UsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjs7QUFFQSx5QkFBeUI7QUFDekI7RUFDRSxXQUFXO0FBQ2I7O0FBRUEsNEJBQTRCO0FBQzVCO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBLHVCQUF1QjtBQUN2QjtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLGNBQWM7QUFDaEI7O0FBRUEsdUJBQXVCO0FBQ3ZCO0VBQ0UsV0FBVztFQUNYLGFBQWE7RUFDYixlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQixzQkFBc0I7QUFDeEI7O0FBRUEsK0JBQStCO0FBQy9CO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBLCtCQUErQjtBQUMvQjtFQUNFLGNBQWM7RUFDZCxlQUFlO0FBQ2pCOztBQUVBLGtDQUFrQztBQUNsQztFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixzQ0FBc0M7QUFDeEM7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsbUJBQW1CO0FBQ3JCOztBQUVBLG1DQUFtQztBQUNuQztFQUNFLGdCQUFnQjtBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIEJhc2ljIHN0eWxpbmcgZm9yIHRoZSBjb250YWluZXIgKi9cclxuLmNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIG1heC13aWR0aDogNjAwcHg7XHJcbiAgbWFyZ2luOiAzMHB4IGF1dG87XHJcbn1cclxuXHJcbi8qIFN0eWxpbmcgZm9yIHRoZSBiYW5uZXIgKi9cclxuLmJhbm5lciB7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgY29sb3I6ICMzNDNhNDA7XHJcbn1cclxuXHJcbi8qIFN0eWxpbmcgZm9yIHRoZSBmb3JtICovXHJcbi5ib2R5IHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLyogU3R5bGluZyBmb3IgZm9ybSBncm91cHMgKi9cclxuLmZvcm0tZ3JvdXAge1xyXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbn1cclxuXHJcbi8qIFN0eWxpbmcgZm9yIGxhYmVscyAqL1xyXG4uZm9ybS1ncm91cCBsYWJlbCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGNvbG9yOiAjNDk1MDU3O1xyXG59XHJcblxyXG4vKiBTdHlsaW5nIGZvciBpbnB1dHMgKi9cclxuLmZvcm0tZ3JvdXAgaW5wdXQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi8qIFN0eWxpbmcgZm9yIGludmFsaWQgaW5wdXRzICovXHJcbi5pcy1pbnZhbGlkIHtcclxuICBib3JkZXItY29sb3I6ICNkYzM1NDU7XHJcbn1cclxuXHJcbi8qIFN0eWxpbmcgZm9yIGVycm9yIG1lc3NhZ2VzICovXHJcbi50ZXh0LWRhbmdlciB7XHJcbiAgY29sb3I6ICNkYzM1NDU7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG4vKiBTdHlsaW5nIGZvciB0aGUgc3VibWl0IGJ1dHRvbiAqL1xyXG4uYnRuIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xyXG59XHJcblxyXG4uYnRuOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NmIzO1xyXG59XHJcblxyXG4uYnRuOmRpc2FibGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmM3NTdkO1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbn1cclxuXHJcbi8qIEFkZGl0aW9uYWwgc3R5bGluZyBmb3Igc3BhY2luZyAqL1xyXG4ubXQtMyB7XHJcbiAgbWFyZ2luLXRvcDogMXJlbTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","BookComplaintComponent","constructor","fb","apiService","route","router","complaintForm","group","complaintName","required","minLength","maxLength","productModelNumber","value","disabled","clientId","resolvedDate","ngOnInit","paramMap","subscribe","params","product","get","setValue","onSubmit","valid","formValues","getRawValue","complaint","status","bookComplaint","next","data","console","log","alert","reset","error","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\MB20\\OneDrive - Capgemini\\Desktop\\New folder (4)\\ABC-Electronics-Customer-Service\\ABCElectronicSmartServiceFrontend\\src\\app\\complaint\\book-complaint\\book-complaint.component.ts","C:\\Users\\MB20\\OneDrive - Capgemini\\Desktop\\New folder (4)\\ABC-Electronics-Customer-Service\\ABCElectronicSmartServiceFrontend\\src\\app\\complaint\\book-complaint\\book-complaint.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ApiService } from 'src/app/service/Api.service';\r\n\r\n@Component({\r\n  selector: 'app-book-complaint',\r\n  templateUrl: './book-complaint.component.html',\r\n  styleUrls: ['./book-complaint.component.css'],\r\n})\r\nexport class BookComplaintComponent implements OnInit {\r\n  complaintForm: FormGroup;\r\n  message: string = '';\r\n  clientId: string = 'client001';\r\n  product: string = '';\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private apiService: ApiService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    this.complaintForm = this.fb.group({\r\n      complaintName: [\r\n        '',\r\n        [\r\n          Validators.required,\r\n          Validators.minLength(3),\r\n          Validators.maxLength(50),\r\n        ],\r\n      ],\r\n      productModelNumber: [\r\n        { value: '', disabled: true },\r\n        [Validators.required],\r\n      ],\r\n      clientId: [{ value: '', disabled: true }, [Validators.required]],\r\n      resolvedDate: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params) => {\r\n      this.product = params.get('modelNumber')!;\r\n      this.complaintForm.get('productModelNumber')?.setValue(this.product);\r\n      this.complaintForm.get('clientId')?.setValue(this.clientId);\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (this.complaintForm.valid) {\r\n      const formValues = this.complaintForm.getRawValue(); // Use getRawValue to get all values including disabled ones\r\n      const clientId = formValues.clientId;\r\n      const productModelNumber = formValues.productModelNumber;\r\n      const complaint = {\r\n        complaintName: formValues.complaintName,\r\n        status: 'Open', // Set the status manually as it's not part of the form\r\n        resolvedDate: formValues.resolvedDate,\r\n      };\r\n\r\n      this.apiService\r\n        .bookComplaint(clientId, productModelNumber, complaint)\r\n        .subscribe({\r\n          next: (data) => {\r\n            console.log('✅ Data added:', data);\r\n            alert('✅ Data added successfully!');\r\n            this.complaintForm.reset();\r\n          },\r\n          error: (error) => {\r\n            console.error('Error booking complaint', error);\r\n          },\r\n        });\r\n    }\r\n\r\n    this.router.navigate(['/getComplaintByClient']);\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <h1 class=\"banner\">Book a complaint</h1>\r\n  <form class=\"body\" [formGroup]=\"complaintForm\" (ngSubmit)=\"onSubmit()\">\r\n    <!-- Complaint Name -->\r\n    <div class=\"form-group name\">\r\n      <label for=\"complaintName\">Complaint Name</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"complaintName\"\r\n        class=\"form-control\"\r\n        [ngClass]=\"{\r\n          'is-invalid':\r\n            complaintForm.get('complaintName')?.invalid &&\r\n            complaintForm.get('complaintName')?.touched\r\n        }\"\r\n      />\r\n      <div\r\n        *ngIf=\"\r\n          complaintForm.get('complaintName')?.touched &&\r\n          complaintForm.get('complaintName')?.invalid\r\n        \"\r\n        class=\"text-danger\"\r\n      >\r\n        <small *ngIf=\"complaintForm.get('complaintName')?.errors?.['required']\"\r\n          >Complaint Name is required.</small\r\n        >\r\n        <small *ngIf=\"complaintForm.get('complaintName')?.errors?.['minlength']\"\r\n          >Minimum 3 characters.</small\r\n        >\r\n        <small *ngIf=\"complaintForm.get('complaintName')?.errors?.['maxlength']\"\r\n          >Maximum 50 characters.</small\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Product Model Number -->\r\n    <div class=\"form-group age\">\r\n      <label for=\"productModelNumber\">Product Model Number</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"productModelNumber\"\r\n        class=\"form-control\"\r\n        [ngClass]=\"{\r\n          'is-invalid':\r\n            complaintForm.get('productModelNumber')?.invalid &&\r\n            complaintForm.get('productModelNumber')?.touched\r\n        }\"\r\n      />\r\n      <div\r\n        *ngIf=\"\r\n          complaintForm.get('productModelNumber')?.touched &&\r\n          complaintForm.get('productModelNumber')?.invalid\r\n        \"\r\n        class=\"text-danger\"\r\n      >\r\n        <small\r\n          *ngIf=\"complaintForm.get('productModelNumber')?.errors?.['required']\"\r\n          >Product Model Number is required.</small\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Client ID -->\r\n    <div class=\"form-group salary\">\r\n      <label for=\"clientId\">Client ID</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"clientId\"\r\n        class=\"form-control\"\r\n        [ngClass]=\"{\r\n          'is-invalid':\r\n            complaintForm.get('clientId')?.invalid &&\r\n            complaintForm.get('clientId')?.touched\r\n        }\"\r\n      />\r\n      <div\r\n        *ngIf=\"\r\n          complaintForm.get('clientId')?.touched &&\r\n          complaintForm.get('clientId')?.invalid\r\n        \"\r\n        class=\"text-danger\"\r\n      >\r\n        <small *ngIf=\"complaintForm.get('clientId')?.errors?.['required']\"\r\n          >Client ID is required.</small\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Resolved Date -->\r\n    <div class=\"form-group date\">\r\n      <label for=\"resolvedDate\">Resolved Date</label>\r\n      <input\r\n        type=\"date\"\r\n        formControlName=\"resolvedDate\"\r\n        class=\"form-control\"\r\n        [ngClass]=\"{\r\n          'is-invalid':\r\n            complaintForm.get('resolvedDate')?.invalid &&\r\n            complaintForm.get('resolvedDate')?.touched\r\n        }\"\r\n      />\r\n      <div\r\n        *ngIf=\"\r\n          complaintForm.get('resolvedDate')?.touched &&\r\n          complaintForm.get('resolvedDate')?.invalid\r\n        \"\r\n        class=\"text-danger\"\r\n      >\r\n        <small *ngIf=\"complaintForm.get('resolvedDate')?.errors?.['required']\"\r\n          >Resolved Date is required.</small\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Submit Button -->\r\n    <button\r\n      class=\"btn btn-primary mt-3\"\r\n      type=\"submit\"\r\n      [disabled]=\"complaintForm.invalid\"\r\n    >\r\n      Submit\r\n    </button>\r\n  </form>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}